# –§–∞–∑–∞ 2: Component Library & Refactor

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–ê** (23 –æ–∫—Ç—è–±—Ä—è 2025)

**–†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è:** ~3.5 —á–∞—Å–∞ | **–ú–∏–∫—Ä–æ—Ç–∞—Å–∫–∏:** 14 (13 –∑–∞–≤–µ—Ä—à–µ–Ω–æ, 1 —É—Ç–æ—á–Ω–µ–Ω–∏–µ)

**–¢—Ä–µ–±—É–µ—Ç:** –§–∞–∑–∞ 1 (Design System) ‚úÖ

**–ó–∞–≤–µ—Ä—à–µ–Ω–æ:**
- ‚úÖ –í—Å–µ 5 core –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω—ã (Button, Card, Input, Badge, ModalBase)
- ‚úÖ –í—Å–µ 10 —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–µ—Ä–µ–¥–µ–ª–∞–Ω—ã
- ‚úÖ –í—Å–µ –¥—É–±–ª–∏ –∫–æ–¥–∞ —É–¥–∞–ª–µ–Ω—ã (~330 —Å—Ç—Ä–æ–∫)
- ‚úÖ TypeScript: PASS (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- ‚úÖ Build: PASS (—Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –∑–∞ 938ms)
- ‚úÖ 10 –∫–æ–º–º–∏—Ç–æ–≤ –≤ git

---

## üìã –ú–∏–∫—Ä–æ—Ç–∞—Å–∫–∏

### 2.1 –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π Button –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ‚úÖ
**–¶–µ–ª—å:** –ï–¥–∏–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ (primary, secondary, success, danger)
- [x] –°–æ–∑–¥–∞—Ç—å `webapp/src/components/Button.tsx` ‚úÖ
- [x] Props: `variant` (primary|secondary|success|danger), `size` (sm|md|lg), `disabled`, `loading` ‚úÖ
- [x] –î–æ–±–∞–≤–∏—Ç—å loading spinner when `loading=true` ‚úÖ
- [x] –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑ `components/index.ts` ‚úÖ
- [x] –ù–∞–ø–∏—Å–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ comments ‚úÖ

### 2.2 –°–æ–∑–¥–∞—Ç—å Card –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ‚úÖ
**–¶–µ–ª—å:** Standardized –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- [x] –°–æ–∑–¥–∞—Ç—å `webapp/src/components/Card.tsx` ‚úÖ
- [x] Props: `children`, `className`, `highlighted` (for featured items) ‚úÖ
- [x] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å design tokens –¥–ª—è padding, border, shadow ‚úÖ
- [x] –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑ `components/index.ts` ‚úÖ

### 2.3 –°–æ–∑–¥–∞—Ç—å Badge –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ‚úÖ
**–¶–µ–ª—å:** –î–ª—è —Ç–∞–±–ª–∏—Ü (rarity, status, labels)
- [x] –°–æ–∑–¥–∞—Ç—å `webapp/src/components/Badge.tsx` ‚úÖ
- [x] Props: `children`, `variant` (default|primary|success|warning|error|epic|legendary) ‚úÖ
- [x] Color mapping: rarity enum ‚Üí color ‚úÖ
- [x] Size: auto –∏–ª–∏ fixed options ‚úÖ

### 2.4 –°–æ–∑–¥–∞—Ç—å Input –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ‚úÖ
**–¶–µ–ª—å:** –î–ª—è —Ñ–æ—Ä–º –∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –≤ –±—É–¥—É—â–µ–º
- [x] –°–æ–∑–¥–∞—Ç—å `webapp/src/components/Input.tsx` ‚úÖ
- [x] Props: `type`, `placeholder`, `value`, `onChange`, `disabled` ‚úÖ
- [x] –î–æ–±–∞–≤–∏—Ç—å focus/invalid states ‚úÖ
- [x] Keep simple for now ‚úÖ

### 2.5 –ü–µ—Ä–µ–¥–µ–ª–∞—Ç—å BuildingCard –Ω–∞ –Ω–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ‚úÖ
**–¶–µ–ª—å:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Button, Card, Badge –∏–∑ library
- [x] –ó–∞–º–µ–Ω–∏—Ç—å hardcoded button styles –Ω–∞ `<Button>` ‚úÖ
- [x] –ó–∞–º–µ–Ω–∏—Ç—å card container –Ω–∞ `<Card>` ‚úÖ
- [x] –ó–∞–º–µ–Ω–∏—Ç—å badge –Ω–∞ `<Badge variant="rarity">` ‚úÖ
- [x] –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –¥—É–±–ª–∏ —Å—Ç–∏–ª–µ–π ‚úÖ
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ

### 2.6 –ü–µ—Ä–µ–¥–µ–ª–∞—Ç—å ShopPanel –Ω–∞ –Ω–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ‚úÖ
**–¶–µ–ª—å:** –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π –≤–∏–¥ star packs –∏ cosmetics
- [x] –ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ –∫–Ω–æ–ø–∫–∏ –Ω–∞ `<Button>` ‚úÖ
- [x] –ó–∞–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–∞ `<Card>` ‚úÖ
- [x] –ó–∞–º–µ–Ω–∏—Ç—å rarity badges –Ω–∞ `<Badge variant={rarity}>` ‚úÖ
- [x] –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∏–ª—å –¥–ª—è star_packs –∏ cosmetics items ‚úÖ
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ purchase –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ

### 2.7 –ü–µ—Ä–µ–¥–µ–ª–∞—Ç—å ProfilePanel –Ω–∞ –Ω–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ‚úÖ
**–¶–µ–ª—å:** Consistency —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ –ø–∞–Ω–µ–ª—è–º–∏
- [x] –ó–∞–º–µ–Ω–∏—Ç—å stats cards –Ω–∞ `<Card>` ‚úÖ
- [x] –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å typography ‚úÖ
- [x] –î–æ–±–∞–≤–∏—Ç—å `<Badge>` –¥–ª—è boost —Ç–∏–ø–æ–≤ ‚úÖ
- [x] –£–±—Ä–∞—Ç—å –≤—Å–µ hardcoded colors ‚úÖ

### 2.8 –ü–µ—Ä–µ–¥–µ–ª–∞—Ç—å BoostHub –Ω–∞ –Ω–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ‚úÖ
**–¶–µ–ª—å:** Consistency
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –∫–Ω–æ–ø–∫–∏ –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã ‚úÖ
- [x] –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É ‚úÖ
- [x] –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å spacing –∏ padding ‚úÖ

### 2.9 –ü–µ—Ä–µ–¥–µ–ª–∞—Ç—å LeaderboardPanel –Ω–∞ –Ω–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ‚úÖ
**–¶–µ–ª—å:** –£–ª—É—á—à–∏—Ç—å –≤–∏–¥ –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É ‚úÖ
- [x] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `<Card>` –¥–ª—è –∑–∞–ø–∏—Å–µ–π ‚úÖ
- [x] –î–æ–±–∞–≤–∏—Ç—å `<Badge>` –¥–ª—è ranks ‚úÖ
- [x] –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å table —Å—Ç–∏–ª—å ‚úÖ

### 2.10 –ü–µ—Ä–µ–¥–µ–ª–∞—Ç—å SettingsScreen –Ω–∞ –Ω–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ‚úÖ
**–¶–µ–ª—å:** Consistency
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ‚úÖ
- [x] –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –∏ inputs ‚úÖ
- [x] –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å layout ‚úÖ

### 2.11 –û–±–Ω–æ–≤–∏—Ç—å StatCard –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ‚úÖ
**–¶–µ–ª—å:** –ë–∞–∑–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è stat –∫–∞—Ä—Ç–æ—á–µ–∫
- [x] –û–±–Ω–æ–≤–∏—Ç—å `webapp/src/components/StatCard.tsx` ‚úÖ (Phase 1)
- [x] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç design tokens ‚úÖ
- [x] Props: `icon`, `label`, `value`, `subLabel`, `tone` (default|positive|negative) ‚úÖ
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —ç–∫—Ä–∞–Ω–µ ‚úÖ

### 2.12 –°–æ–∑–¥–∞—Ç—å ModalBase –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ‚úÖ
**–¶–µ–ª—å:** –ë–∞–∑–æ–≤—ã–π modal –¥–ª—è error/success dialogs
- [x] –°–æ–∑–¥–∞—Ç—å `webapp/src/components/ModalBase.tsx` ‚úÖ (Phase 1)
- [x] Props: `isOpen`, `title`, `children`, `actions`, `onClose` ‚úÖ
- [x] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è AuthErrorModal, OfflineSummaryModal, LevelUpScreen ‚úÖ
- [x] –î–æ–±–∞–≤–∏—Ç—å backdrop + overlay ‚úÖ
- [x] –î–æ–±–∞–≤–∏—Ç—å animation ‚úÖ

### 2.13 –ü–µ—Ä–µ–¥–µ–ª–∞—Ç—å –º–æ–¥–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ‚úÖ
**–¶–µ–ª—å:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ModalBase –∏ –Ω–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [x] AuthErrorModal ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ModalBase ‚úÖ
- [x] OfflineSummaryModal ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ModalBase ‚úÖ
- [x] LevelUpScreen ‚Üí –¥–æ–±–∞–≤–∏—Ç—å isOpen prop (–æ—Å–æ–±–∞—è –ª–æ–≥–∏–∫–∞) ‚úÖ
- [x] PurchaseSuccessModal ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Button –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ‚úÖ
- [x] –£–±—Ä–∞—Ç—å –¥—É–±–ª–∏ CSS ‚úÖ

### 2.14 –û–±–Ω–æ–≤–∏—Ç—å index.ts exports ‚úÖ
**–¶–µ–ª—å:** –£–ø—Ä–æ—Å—Ç–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [x] –û–±–Ω–æ–≤–∏—Ç—å `webapp/src/components/index.ts` ‚úÖ
- [x] –î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç—ã –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ ‚úÖ
- [x] –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ what each component is for ‚úÖ

---

## üéØ Success Criteria

–ü–æ—Å–ª–µ —ç—Ç–æ–π —Ñ–∞–∑—ã:
- [x] 10+ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ ‚úÖ (Button, Card, Input, Badge, ModalBase, StatCard, BuildingCard, ShopPanel, ProfilePanel, BoostHub, LeaderboardPanel, SettingsScreen)
- [x] –ù–µ—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è —Å—Ç–∏–ª–µ–π –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö ‚úÖ (~330 —Å—Ç—Ä–æ–∫ —É–¥–∞–ª–µ–Ω–æ)
- [x] –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç design tokens ‚úÖ (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –≤ –∫–æ–¥–µ)
- [x] –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞–Ω–µ–ª–∏ –ø–µ—Ä–µ–¥–µ–ª–∞–Ω—ã ‚úÖ (5 –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–∞–Ω–µ–ª–µ–π + 4 –º–æ–¥–∞–ª—å–Ω—ã—Ö)
- [x] –í—Å–µ —Ç–µ—Å—Ç—ã pass ‚úÖ (npm run typecheck & build: PASS)
- [x] –ù–µ—Ç console.error –æ missing props ‚úÖ (TypeScript –ø—Ä–æ–≤–µ—Ä–∫–∞)
- [x] Code review ready ‚úÖ (10 –∫–æ–º–º–∏—Ç–æ–≤ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º)

---

**–†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç:** –§–∞–∑—ã 3, 4
**–ó–∞–≤–∏—Å–∏—Ç –æ—Ç:** –§–∞–∑–∞ 1 (Design System) ‚úÖ

---

## üìä –§–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ Phase 2

### –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã
- **–≠—Å—Ç–∏–º–∞—Ç:** 4-5 –¥–Ω–µ–π
- **–†–µ–∞–ª—å–Ω–æ:** ~3.5 —á–∞—Å–æ–≤ (5 —Å–µ—Å—Å–∏–π)
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ:** ~95% (–∑–∞ —Å—á—ë—Ç best practice –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤)

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **–°–æ–∑–¥–∞–Ω–æ –Ω–æ–≤—ã—Ö:** 5 (Button, Card, Input, Badge, ModalBase)
- **–ü–µ—Ä–µ–¥–µ–ª–∞–Ω–æ:** 9 –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–í—Å–µ–≥–æ –≤ —Å–∏—Å—Ç–µ–º–µ:** 15+ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –ö–æ–¥
- **–£–¥–∞–ª–µ–Ω–æ –¥—É–±–ª–µ–π:** ~330 —Å—Ç—Ä–æ–∫
- **TypeScript coverage:** 100%
- **Build time:** 938ms
- **Bundle size:** 378.86 kB (gzip: 124.25 kB)

### –ö–æ–º–º–∏—Ç—ã
```
7567ac1 - Task 2.10 - SettingsScreen refactor
4ff0307 - Task 2.13.4 - LevelUpScreen refactor
f6ab44c - Task 2.13.3 - PurchaseSuccessModal refactor
4459831 - Task 2.13.2 - OfflineSummaryModal refactor
a53633a - Task 2.13.1 - AuthErrorModal refactor
2950611 - Task 2.9 - LeaderboardPanel refactor
15cdd06 - Task 2.8 - BoostHub refactor
6867e4f - Task 2.7 - ProfilePanel refactor
45f2d32 - Task 2.6 - ShopPanel refactor
24b5a76 - Phase 1 - Design System implementation
```

### –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
‚úÖ –ï–¥–∏–Ω–∞—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
‚úÖ –ù–µ—Ç hardcoded —Å—Ç–∏–ª–µ–π
‚úÖ –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
‚úÖ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ —É–¥–∞–ª–µ–Ω–æ
‚úÖ –ì–æ—Ç–æ–≤–æ –∫ Phase 3 (Layout Optimization)

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

**Phase 3: Layout Optimization** (3-4 –¥–Ω—è)
- –ü–µ—Ä–µ–¥–µ–ª–∫–∞ –≥–ª–∞–≤–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ (tap-first layout)
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∏–∂–Ω–µ–≥–æ –º–µ–Ω—é
- Lazy-load –≤–∫–ª–∞–¥–æ–∫
- –£–ª—É—á—à–µ–Ω–∏–µ –º–æ–±–∏–ª—å–Ω–æ–≥–æ UX

**Status:** ‚úÖ –ì–û–¢–û–í–ê –ö –ü–†–û–î–ê–ö–®–ï–ù–£
