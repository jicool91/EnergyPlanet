# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ Energy Planet

–ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏ –ø–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã.

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-11-16
**–°—Ç–∞—Ç—É—Å:** Complete
**–ö–æ–º–∞–Ω–¥–∞:** Engineering, Product, Security

---

## üìö –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### 1. [–ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑](./REFERRAL_ANALYSIS.md)
**–¶–µ–ª—å:** –ü–æ–Ω—è—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

**–ß—Ç–æ –≤–Ω—É—Ç—Ä–∏:**
- –ü–æ–ª–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (backend + frontend)
- –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∏ –º–µ—Ö–∞–Ω–∏–∫–∏
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ª–∏–¥–µ—Ä–∞–º–∏ –∏–Ω–¥—É—Å—Ç—Ä–∏–∏
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —É—è–∑–≤–∏–º–æ—Å—Ç–∏
- –ú–µ—Ç—Ä–∏–∫–∏ –∏ KPI
- Benchmark –ø—Ä–æ—Ç–∏–≤ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤

**–î–ª—è –∫–æ–≥–æ:**
- Engineering Team (–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- Product Team (—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)
- Stakeholders (executive summary)

**–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã:**
```
–¢–µ–∫—É—â–∞—è –æ—Ü–µ–Ω–∫–∞: 6.5/10
–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥—ã, revenue share
–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–µ–ª—ã: Fraud prevention, gamification, analytics
–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª —Ä–æ—Å—Ç–∞: Viral coefficient +160%, Fraud rate -75%
```

---

### 2. [Best Practices](./BEST_PRACTICES.md)
**–¶–µ–ª—å:** –ù–∞—É—á–∏—Ç—å—Å—è —É –ª–∏–¥–µ—Ä–æ–≤ –∏–Ω–¥—É—Å—Ç—Ä–∏–∏

**–ß—Ç–æ –≤–Ω—É—Ç—Ä–∏:**
- Core –ø—Ä–∏–Ω—Ü–∏–ø—ã (two-sided incentives, frictionless UX)
- Reward structures (tiered milestones, revenue share)
- Gamification —Ç–µ—Ö–Ω–∏–∫–∏ (leaderboards, badges, progress bars)
- Fraud prevention (detection + prevention)
- UX & Placement (strategic timing, smart prompts)
- Analytics & Optimization (funnel metrics, A/B testing)
- Case studies (Dropbox, WoW, HQ Trivia, Clash of Clans)

**–î–ª—è –∫–æ–≥–æ:**
- Product Team (–¥–∏–∑–∞–π–Ω —Ñ–∏—á)
- UX Team (placement –∏ timing)
- Engineering Team (–∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è)

**Highlights:**
```
‚úÖ DO:
- –î–≤–∞ —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã
- –ü–µ—Ä–≤—ã–π milestone ‚â§ 2 —Ä–µ—Ñ–µ—Ä–∞–ª–∞
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–æ–º—Ç—ã –ø–æ—Å–ª–µ –ø–æ–±–µ–¥
- Fraud detection —Å –ø–µ—Ä–≤–æ–≥–æ –¥–Ω—è

‚ùå DON'T:
- –ù–∞–≥—Ä–∞–¥–∞ —Ç–æ–ª—å–∫–æ —Ä–µ—Ñ–µ—Ä—É
- –ë–æ–ª—å—à–∏–µ gaps –º–µ–∂–¥—É milestones
- –°–ø–∞–º –ø—Ä–æ–º—Ç–∞–º–∏
- –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–æ
```

---

### 3. [Implementation Roadmap](./IMPLEMENTATION_ROADMAP.md)
**–¶–µ–ª—å:** –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏–π

**–ß—Ç–æ –≤–Ω—É—Ç—Ä–∏:**
- 6 —Å–ø—Ä–∏–Ω—Ç–æ–≤ (12 –Ω–µ–¥–µ–ª—å)
- –î–µ—Ç–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏ —Å –æ—Ü–µ–Ω–∫–∞–º–∏
- Code snippets –∏ –º–∏–≥—Ä–∞—Ü–∏–∏
- Acceptance criteria
- Success metrics
- Resource allocation
- Budget estimate
- Risk management

**–î–ª—è –∫–æ–≥–æ:**
- Engineering Lead (–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)
- Product Manager (roadmap)
- Stakeholders (timeline –∏ budget)

**–°–ø—Ä–∏–Ω—Ç—ã:**
```
Sprint 1 (Week 1-2): üî¥ Fraud Prevention - CRITICAL
Sprint 2 (Week 3-4): üü† Analytics & Tracking
Sprint 3 (Week 5-6): üü† UX Improvements
Sprint 4 (Week 7-8): üü° Gamification Layer
Sprint 5 (Week 9-10): üü° Gameplay Integration
Sprint 6 (Week 11-12): üü¢ Advanced Features
```

**Investment:**
```
Team: 17.5 weeks FTE
Budget: ~$36,000
Timeline: 12 weeks
ROI: Positive in <2 months
```

---

### 4. [Fraud Prevention Guide](./FRAUD_PREVENTION.md)
**–¶–µ–ª—å:** –ó–∞—â–∏—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –æ—Ç –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞

**–ß—Ç–æ –≤–Ω—É—Ç—Ä–∏:**
- Threat model (—Ç–∏–ø—ã –∞—Ç–∞–∫)
- Detection techniques (IP, device, email, behavior, graph)
- Prevention strategies (delays, rate limits, CAPTCHA)
- Implementation guide (4 —Ñ–∞–∑—ã)
- Monitoring dashboard
- Incident response playbooks

**–î–ª—è –∫–æ–≥–æ:**
- Security Team
- Backend Engineers
- DevOps (monitoring)

**Attack vectors:**
```
–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:
- Self-referral: 80% (VERY HIGH)
- Email alias: 60% (HIGH)
- Referral ring: 30% (MEDIUM)
- Bot farm: 15% (LOW)
- VPN rotation: 40% (MEDIUM)

–ó–∞—â–∏—Ç–∞:
Layer 1: IP-based detection
Layer 2: Device fingerprinting
Layer 3: Email analysis
Layer 4: Behavioral analysis
Layer 5: Graph analysis
```

---

### 5. [User Experience Guide](./USER_EXPERIENCE_GUIDE.md)
**–¶–µ–ª—å:** –û–±—ä—è—Å–Ω–∏—Ç—å –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–æ—Å—Ç—ã–º —è–∑—ã–∫–æ–º

**–ß—Ç–æ –≤–Ω—É—Ç—Ä–∏:**
- –†–µ–∞–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–∏—Å—Ç–æ—Ä–∏—è –ú–∞–∫—Å–∞ –∏ –î–∏–º—ã)
- –ü–æ—à–∞–≥–æ–≤—ã–π flow —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ü–∏—Ñ—Ä—ã –∏ –ø—Ä–∏–º–µ—Ä—ã –Ω–∞–≥—Ä–∞–¥
- –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –≤—ã–≥–æ–¥—ã (—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å/–±–µ–∑ —Ä–µ—Ñ–µ—Ä–∞–ª–∫–∏)
- –ü—Å–∏—Ö–æ–ª–æ–≥–∏—è: –ø–æ—á–µ–º—É –ª—é–¥–∏ –ø—Ä–∏–≥–ª–∞—à–∞—é—Ç –¥—Ä—É–∑–µ–π
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø–ª–æ—Ö–∏–º–∏ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏

**–î–ª—è –∫–æ–≥–æ:**
- Product Team (–ø–æ–Ω–∏–º–∞–Ω–∏–µ user journey)
- Marketing (–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è —Ü–µ–Ω–Ω–æ—Å—Ç–∏)
- Stakeholders (–æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏)
- –ù–æ–≤—ã–µ —á–ª–µ–Ω—ã –∫–æ–º–∞–Ω–¥—ã (onboarding)

**Highlights:**
```
–ò—Å—Ç–æ—Ä–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
1. –ú–∞–∫—Å –∏–≥—Ä–∞–µ—Ç ‚Üí –Ω–∞—Ö–æ–¥–∏—Ç —Å–≤–æ–π –∫–æ–¥ EP-XK7M
2. –ü–æ–±–µ–∂–¥–∞–µ—Ç –≤ PvP ‚Üí –Ω–∞ —ç–º–æ—Ü–∏—è—Ö –¥–µ–ª–∏—Ç—Å—è —Å –î–∏–º–æ–π
3. –î–∏–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è ‚Üí –ø–æ–ª—É—á–∞–µ—Ç 300‚≠ê
4. –ú–∞–∫—Å –ø–æ–ª—É—á–∞–µ—Ç 350‚≠ê + –≤–∏–¥–∏—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –∫ milestone
5. –ò–≥—Ä–∞—é—Ç –≤–º–µ—Å—Ç–µ ‚Üí –ø–æ–ª—É—á–∞—é—Ç +50% –Ω–∞–≥—Ä–∞–¥ (buddy bonus)
6. –î–∏–º–∞ –ø–æ–∫—É–ø–∞–µ—Ç –∑–≤–µ–∑–¥—ã ‚Üí –ú–∞–∫—Å –ø–æ–ª—É—á–∞–µ—Ç 1% –ø–∞—Å—Å–∏–≤–Ω–æ

–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞:
- –ë–µ–∑ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤: ~750‚≠ê/–º–µ—Å—è—Ü
- –° 3 —Ä–µ—Ñ–µ—Ä–∞–ª–∞–º–∏: ~2,650‚≠ê/–º–µ—Å—è—Ü (+250%)
- –≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç: $2.65 –∑–∞ 10 –º–∏–Ω—É—Ç —É—Å–∏–ª–∏–π
```

---

### 6. [Auto-Activation Guide](./AUTO_ACTIVATION_GUIDE.md) üî¥ –ö–†–ò–¢–ò–ß–ù–û
**–¶–µ–ª—å:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∞–∫—Ç–∏–≤–∞—Ü–∏—é –∫–æ–¥–∞ (–±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞)

**–ß—Ç–æ –≤–Ω—É—Ç—Ä–∏:**
- –¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞ (–∫–æ–Ω–≤–µ—Ä—Å–∏—è 5-10%)
- –ö–∞–∫ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å (–∫–æ–Ω–≤–µ—Ä—Å–∏—è 90-95%)
- Telegram WebApp API (start_param)
- –ü–æ–ª–Ω–∞—è –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è (–∫–æ–¥ –≥–æ—Ç–æ–≤ –∫ –∫–æ–ø–∏–ø–∞—Å—Ç—É)
- Welcome modal –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ troubleshooting

**–î–ª—è –∫–æ–≥–æ:**
- Frontend Developers (MUST IMPLEMENT)
- Product Team (–ø–æ–Ω–∏–º–∞–Ω–∏–µ impact)
- QA (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ flow)

**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:**
```
–¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï:
100 –∫–ª–∏–∫–æ–≤ ‚Üí 5 –∞–∫—Ç–∏–≤–∞—Ü–∏–π (5% conversion) üò¢

–ü—Ä–æ–±–ª–µ–º–∞:
1. –î–∏–º–∞ –∫–ª–∏–∫–∞–µ—Ç —Å—Å—ã–ª–∫—É —Å –∫–æ–¥–æ–º
2. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è app
3. ‚ùå Frontend –ù–ï —á–∏—Ç–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä startapp
4. ‚ùå –î–∏–º–∞ –¥–æ–ª–∂–µ–Ω –≤—Ä—É—á–Ω—É—é:
   - –ù–∞–π—Ç–∏ Settings
   - –í–≤–µ—Å—Ç–∏ –∫–æ–¥ EP-XK7M
   - –ù–∞–∂–∞—Ç—å "–ü—Ä–∏–º–µ–Ω–∏—Ç—å"
‚Üí 95% –±—Ä–æ—Å–∞—é—Ç!

–†–ï–®–ï–ù–ò–ï:
100 –∫–ª–∏–∫–æ–≤ ‚Üí 90 –∞–∫—Ç–∏–≤–∞—Ü–∏–π (90% conversion) üöÄ

1. –î–∏–º–∞ –∫–ª–∏–∫–∞–µ—Ç —Å—Å—ã–ª–∫—É
2. App —á–∏—Ç–∞–µ—Ç start_param –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
3. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –∫–æ–¥
4. ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–¢—ã –ø–æ–ª—É—á–∏–ª 300‚≠ê!"
‚Üí –û–¥–∏–Ω –∫–ª–∏–∫!

IMPACT:
- Conversion: 5% ‚Üí 90% (+1700%)
- –£—Å–∏–ª–∏—è: 30 –º–∏–Ω—É—Ç –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏
- ROI: 18√ó —Ä–æ—Å—Ç –∫–æ–Ω–≤–µ—Ä—Å–∏–∏
```

**–ò–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è:**
```
3 —Ñ–∞–π–ª–∞, ~100 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞, 30 –º–∏–Ω—É—Ç:
1. webapp/src/utils/telegram.ts (—á–∏—Ç–∞–µ—Ç start_param)
2. webapp/src/hooks/useAutoReferral.ts (–∞–≤—Ç–æ–∞–∫—Ç–∏–≤–∞—Ü–∏—è)
3. App.tsx: –¥–æ–±–∞–≤–∏—Ç—å useAutoReferral() hook
```

---

## üéØ Quick Start Guide

### –î–ª—è Product Manager

**–•–æ—á—É –ø–æ–Ω—è—Ç—å:**
1. –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç? ‚Üí Read: [REFERRAL_ANALYSIS.md](./REFERRAL_ANALYSIS.md#—Ç–µ–∫—É—â–∞—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
2. –ß—Ç–æ –¥–µ–ª–∞—é—Ç –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã? ‚Üí Read: [BEST_PRACTICES.md](./BEST_PRACTICES.md#case-studies)
3. –ß—Ç–æ —É–ª—É—á—à–∏—Ç—å –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å? ‚Üí Read: [IMPLEMENTATION_ROADMAP.md](./IMPLEMENTATION_ROADMAP.md#sprint-plan-overview)

**–î–µ–π—Å—Ç–≤–∏—è:**
- [ ] Review Executive Summary –≤ Analysis
- [ ] Approve –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –≤ Roadmap
- [ ] Align —Å Engineering Lead –Ω–∞ timeline

---

### –î–ª—è Engineering Lead

**–•–æ—á—É –ø–æ–Ω—è—Ç—å:**
1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã? ‚Üí Read: [REFERRAL_ANALYSIS.md](./REFERRAL_ANALYSIS.md#—Ç–µ–∫—É—â–∞—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
2. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã? ‚Üí Read: [REFERRAL_ANALYSIS.md](./REFERRAL_ANALYSIS.md#–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–æ–±–ª–µ–º—ã)
3. –ü–ª–∞–Ω —Ä–∞–±–æ—Ç—ã? ‚Üí Read: [IMPLEMENTATION_ROADMAP.md](./IMPLEMENTATION_ROADMAP.md)

**–î–µ–π—Å—Ç–≤–∏—è:**
- [ ] Review Sprint 1 tasks (Fraud Prevention)
- [ ] Allocate resources (2 backend, 1 frontend, 1 QA)
- [ ] Setup project tracking (Jira/Linear)
- [ ] Schedule kickoff meeting

---

### –î–ª—è Security Team

**–•–æ—á—É –ø–æ–Ω—è—Ç—å:**
1. –£—è–∑–≤–∏–º–æ—Å—Ç–∏? ‚Üí Read: [REFERRAL_ANALYSIS.md](./REFERRAL_ANALYSIS.md#–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–æ–±–ª–µ–º—ã)
2. Threat model? ‚Üí Read: [FRAUD_PREVENTION.md](./FRAUD_PREVENTION.md#threat-model)
3. Detection –º–µ—Ç–æ–¥—ã? ‚Üí Read: [FRAUD_PREVENTION.md](./FRAUD_PREVENTION.md#detection-techniques)

**–î–µ–π—Å—Ç–≤–∏—è:**
- [ ] Review threat model
- [ ] Approve detection thresholds
- [ ] Setup monitoring dashboard
- [ ] Define incident response processes

---

### –î–ª—è Backend Developer

**Starting Sprint 1?**

**Must Read:**
1. [IMPLEMENTATION_ROADMAP.md - Sprint 1](./IMPLEMENTATION_ROADMAP.md#sprint-1-fraud-prevention-foundation-week-1-2)
2. [FRAUD_PREVENTION.md - Implementation Guide](./FRAUD_PREVENTION.md#implementation-guide)

**Tasks:**
- [ ] Create FraudDetectionService
- [ ] Add IP tracking migration
- [ ] Implement delayed rewards
- [ ] Update ReferralService

**Reference Code:**
- Migration example: Roadmap Sprint 1.2
- Service example: Roadmap Sprint 1.1
- Tests example: Roadmap Sprint 1.1

---

### –î–ª—è Frontend Developer

**Starting Sprint 3?**

**Must Read:**
1. [IMPLEMENTATION_ROADMAP.md - Sprint 3](./IMPLEMENTATION_ROADMAP.md#sprint-3-ux-improvements--smart-timing-week-5-6)
2. [BEST_PRACTICES.md - UX & Placement](./BEST_PRACTICES.md#ux--placement)

**Tasks:**
- [ ] Create ReferralPrompt component
- [ ] Integrate event triggers
- [ ] Build progress visualization

---

## üìä Key Metrics Summary

### –¢–µ–∫—É—â–∏–µ (–æ—Ü–µ–Ω–æ—á–Ω—ã–µ)
```
Viral Coefficient: 0.3-0.5 (sub-viral)
Fraud Rate: 30-40% (–ö–†–ò–¢–ò–ß–ù–û)
Conversion Rate: 5-10% (–ö–†–ò–¢–ò–ß–ù–û - –ù–ï–¢ –ê–í–¢–û–ê–ö–¢–ò–í–ê–¶–ò–ò!)
Referral Retention D7: 20-30% (–Ω–∏–∑–∫–∞—è)
Share Rate: 10-15% (–Ω–∏–∑–∫–∞—è)
```

### –ü–æ—Å–ª–µ –∞–≤—Ç–æ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ (Quick Win - 30 –º–∏–Ω—É—Ç!)
```
Conversion Rate: 5-10% ‚Üí 85-95% (+1700%) üöÄ
Viral Coefficient: 0.3-0.5 ‚Üí 0.6-0.8 (+100%)
```

### –¶–µ–ª–µ–≤—ã–µ (–ø–æ—Å–ª–µ –≤—Å–µ—Ö —É–ª—É—á—à–µ–Ω–∏–π)
```
Viral Coefficient: 0.8-1.2 (+160%)
Fraud Rate: 5-8% (-75%)
Conversion Rate: 85-95% (—Å –∞–≤—Ç–æ–∞–∫—Ç–∏–≤–∞—Ü–∏–µ–π)
Referral Retention D7: 40-55% (+80%)
Share Rate: 25-35% (+150%)
```

### Tracking Plan
```
Week 1-2: Fraud detection metrics
Week 3-4: Funnel analytics
Week 5-6: Conversion rate
Week 7+: Viral coefficient, retention
```

---

## üöÄ Prioritized Action Items

### P0 - Critical (Start ASAP - Quick Wins!)

**üî¥ Auto-Activation (30 –º–∏–Ω—É—Ç, +1700% conversion!)**
- [ ] Create `webapp/src/utils/telegram.ts`
- [ ] Create `webapp/src/hooks/useAutoReferral.ts`
- [ ] Add `useAutoReferral()` to App.tsx
- [ ] Test with mock start_param
- [ ] Deploy to production

**Timeline:** 30 –º–∏–Ω—É—Ç - 1 —á–∞—Å
**Owner:** Frontend Developer
**Impact:** Conversion 5% ‚Üí 90% (+1700%)
**Doc:** [AUTO_ACTIVATION_GUIDE.md](./AUTO_ACTIVATION_GUIDE.md)

---

**Fraud Prevention**
- [ ] Implement basic IP matching
- [ ] Add email normalization
- [ ] Create pending rewards table
- [ ] Deploy with logging (no enforcement)

**Timeline:** Week 1-2
**Owner:** Backend Team
**Doc:** [FRAUD_PREVENTION.md](./FRAUD_PREVENTION.md#implementation-guide)

---

### P1 - High (Next Sprint)

**Analytics Foundation**
- [ ] Create analytics events table
- [ ] Implement tracking in frontend
- [ ] Build basic admin dashboard

**Timeline:** Week 3-4
**Owner:** Backend + Frontend
**Doc:** [IMPLEMENTATION_ROADMAP.md - Sprint 2](./IMPLEMENTATION_ROADMAP.md#sprint-2-analytics--tracking-week-3-4)

---

### P2 - Medium (Month 2)

**UX & Gamification**
- [ ] Smart placement triggers
- [ ] Leaderboard
- [ ] Progress visualization
- [ ] Badge system

**Timeline:** Week 5-8
**Owner:** Frontend + Backend
**Doc:** [IMPLEMENTATION_ROADMAP.md - Sprint 3-4](./IMPLEMENTATION_ROADMAP.md#sprint-3-ux-improvements--smart-timing-week-5-6)

---

### P3 - Nice-to-have (Month 3)

**Advanced Features**
- [ ] Gameplay integration
- [ ] Gifting system
- [ ] Advanced ML fraud detection

**Timeline:** Week 9-12
**Owner:** Full team
**Doc:** [IMPLEMENTATION_ROADMAP.md - Sprint 5-6](./IMPLEMENTATION_ROADMAP.md#sprint-5-gameplay-integration-week-9-10)

---

## üìà Success Criteria

### Sprint-Level

Each sprint —Å—á–∏—Ç–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω—ã–º –µ—Å–ª–∏:
- [ ] All acceptance criteria met
- [ ] Tests coverage >80%
- [ ] No critical bugs in production
- [ ] Performance targets met
- [ ] Documentation updated

### Project-Level

–ü—Ä–æ–µ–∫—Ç —Å—á–∏—Ç–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω—ã–º –µ—Å–ª–∏ —á–µ—Ä–µ–∑ 3 –º–µ—Å—è—Ü–∞:
- [ ] Viral coefficient: >0.8
- [ ] Fraud rate: <10%
- [ ] Conversion rate: +30% improvement
- [ ] Referral retention D7: +40% vs baseline
- [ ] User satisfaction: >4/5 stars
- [ ] ROI: Positive

---

## üîÑ Continuous Improvement

### After Launch

**Week 13-14: Monitoring Period**
- Daily metric reviews
- Quick bug fixes
- User feedback collection
- Threshold tuning

**Month 4+: Optimization**
- A/B testing roadmap
- Feature iteration based on data
- Competitive analysis updates
- Quarterly reviews

**A/B Test Backlog:**
```
Month 1: Reward amounts, milestone structure
Month 2: Share messages, prompt timing
Month 3: Leaderboard design, season duration
Month 4: Coop bonuses, gift limits
```

---

## üõ†Ô∏è Tools & Resources

### External Services (Recommended)

**Fraud Detection:**
- FingerprintJS: $99-299/month (device fingerprinting)
- IPQualityScore: $50-500/month (IP intelligence)
- ZeroBounce: $15-100/month (email validation)

**Analytics:**
- Mixpanel or Amplitude (event tracking)
- Metabase (internal dashboards)

**Infrastructure:**
- Redis (rate limiting, caching)
- PostgreSQL (existing, no changes)

### Open Source Alternatives

- Device fingerprinting: Custom implementation
- IP databases: MaxMind GeoIP2 Free
- Email validation: Local database

---

## üìû Contacts & Support

### Document Owners

- **Overall Project:** Product Lead
- **Fraud Prevention:** Security Team Lead
- **Implementation:** Engineering Lead
- **Analytics:** Data Team

### Questions?

- Technical questions: Engineering Slack channel
- Product questions: Product team
- Security concerns: Security team

---

## üîñ Version History

| Version | Date | Changes | Author |
|---------|------|---------|--------|
| 1.0 | 2025-11-16 | Initial documentation | Claude Code |
| 1.1 | 2025-11-16 | Added User Experience Guide + Auto-Activation Guide | Claude Code |

---

## üìù Additional Notes

### Files Analyzed

**Backend:**
```
/backend/migrations/011_referrals.sql
/backend/migrations/014_referral_revenue.sql
/backend/src/services/ReferralService.ts
/backend/src/services/ReferralRevenueService.ts
/backend/src/repositories/ReferralRepository.ts
/backend/src/repositories/ReferralRevenueRepository.ts
/backend/src/api/controllers/ReferralController.ts
/backend/content/referrals.json
```

**Frontend:**
```
/webapp/src/store/referralStore.ts
/webapp/src/store/referralRevenueStore.ts
/webapp/src/services/referrals.ts
/webapp/src/components/settings/ReferralInviteCard.tsx
/webapp/src/components/friends/ReferralRevenueCard.tsx
```

**Total:** ~2,400 LOC analyzed

### Research Sources

- Viral Loops (15 Best Practices 2025)
- ReferralRock (Gamification Guide)
- AppSamurai (In-App Referral Programs)
- GameMarketingGenie (Mobile Game Referrals)
- SEON, Fingerprint, Voucherify (Fraud Prevention)
- Talkable, ReferralCandy (E-commerce Best Practices)

---

## ‚úÖ Next Steps

1. **Immediate (Today):**
   - [ ] Share documentation with team
   - [ ] Schedule review meeting
   - [ ] Get stakeholder approval

2. **This Week:**
   - [ ] Finalize sprint 1 scope
   - [ ] Allocate team resources
   - [ ] Setup project tracking
   - [ ] Kickoff meeting

3. **Week 1:**
   - [ ] Begin Sprint 1 (Fraud Prevention)
   - [ ] Daily standups
   - [ ] Progress tracking

---

**Happy Building! üöÄ**

*For questions or updates to this documentation, contact the Engineering Team.*
