/**
 * Energy Planet Design System - Design Tokens
 *
 * This file documents all design tokens used in the application.
 * These tokens are defined in tailwind.config.js and referenced here
 * for easy lookup and documentation.
 */

:root {
  /* ===== COLORS ===== */

  /* Base Palette */
  --color-bg-primary: #000000;
  --color-bg-secondary: #1d2025;
  --color-bg-tertiary: #272a2f;
  --color-bg-elevated: #2f3339;

  /* Text */
  --color-text-primary: #ffffff;
  --color-text-secondary: #85827d;
  --color-text-tertiary: #95908a;

  /* Accent */
  --color-accent-gold: #f3ba2f;
  --color-accent-gold-light: #fad258;
  --color-accent-gold-dark: #d4af37;
  --color-accent-cyan: #2de2ff;
  --color-accent-cyan-light: #5cf1ff;
  --color-accent-cyan-dark: #0ba1c3;
  --color-accent-magenta: #ff4dff;
  --color-accent-magenta-light: #ff7cff;
  --color-accent-magenta-dark: #c034d4;

  /* Semantic */
  --color-success: #4ade80;
  --color-warning: #facc15;
  --color-error: #ef4444;
  --color-info: #3b82f6;

  /* Legacy aliases (для совместимости со старыми компонентами) */
  --color-cyan: var(--color-accent-gold);
  --color-lime: var(--color-accent-gold-light);
  --color-gold: var(--color-accent-gold);
  --color-orange: #f97316;
  --color-silver: #e5e7eb;
  --color-magenta: #a855f7;

  /* Gradient aliases */
  --gradient-hero: linear-gradient(180deg, rgba(0, 0, 0, 0.92) 0%, #1d2025 100%);
  --gradient-accent: linear-gradient(135deg, #f3ba2f 0%, #fad258 100%);
  --gradient-premium: linear-gradient(135deg, #d4af37 0%, #f3ba2f 100%);
  --gradient-holographic: linear-gradient(
    135deg,
    #f3ba2f 0%,
    #fad258 60%,
    rgba(255, 255, 255, 0.35) 100%
  );
  --gradient-ai: linear-gradient(135deg, rgba(45, 226, 255, 0.8) 0%, rgba(255, 77, 255, 0.9) 100%);
  --gradient-soft: linear-gradient(
    135deg,
    rgba(45, 226, 255, 0.32) 0%,
    rgba(255, 77, 255, 0.36) 100%
  );

  /* Theme-aware Surfaces */
  --color-surface-primary: var(--app-bg, #000000);
  --color-surface-secondary: var(--app-card-bg, #1d2025);
  --color-surface-tertiary: var(--tg-theme-section-header-bg-color, #272a2f);
  --color-surface-accent: var(--color-accent-gold);
  --layer-surface-strong: rgba(29, 32, 37, 0.92);
  --layer-surface-elevated: rgba(39, 42, 47, 0.95);
  --layer-surface-soft: rgba(29, 32, 37, 0.65);
  --layer-overlay-strong: rgba(20, 22, 28, 0.85);
  --layer-overlay-medium: rgba(20, 22, 28, 0.72);
  --layer-overlay-soft: rgba(36, 38, 45, 0.72);
  --layer-overlay-faint: rgba(36, 38, 45, 0.6);
  --layer-overlay-ghost: rgba(255, 255, 255, 0.04);
  --layer-overlay-ghost-strong: rgba(255, 255, 255, 0.06);
  --layer-overlay-ghost-soft: rgba(255, 255, 255, 0.08);
  --layer-border-subtle: rgba(255, 255, 255, 0.08);
  --layer-border-strong: rgba(255, 255, 255, 0.12);
  --layer-border-featured: rgba(243, 186, 47, 0.28);
  --state-card-highlight-border: rgba(45, 226, 255, 0.45);
  --state-card-highlight-shadow: 0 0 32px rgba(45, 226, 255, 0.28);
  --state-card-locked-border: rgba(255, 141, 77, 0.45);
  --state-card-locked-bg: rgba(39, 42, 47, 0.78);
  --surface-dual-highlight: rgba(14, 18, 36, 0.94);
  --surface-dual-highlight-soft: rgba(26, 18, 40, 0.88);
  --surface-glass: rgba(12, 18, 40, 0.78);
  --surface-glass-strong: rgba(10, 16, 38, 0.82);
  --surface-glass-light: rgba(12, 18, 40, 0.68);
  --state-danger-border: rgba(255, 51, 51, 0.45);
  --state-danger-surface: rgba(58, 16, 24, 0.82);
  --state-danger-pill: rgba(255, 51, 51, 0.16);
  --state-danger-pill-hover: rgba(255, 51, 51, 0.24);
  --state-accent-pill: rgba(243, 186, 47, 0.18);
  --state-accent-pill-soft: rgba(243, 186, 47, 0.12);
  --state-success-pill: rgba(74, 222, 128, 0.1);
  --state-success-pill-strong: rgba(74, 222, 128, 0.16);
  --state-cyan-pill-soft: rgba(0, 217, 255, 0.08);
  --state-cyan-pill-strong: rgba(0, 217, 255, 0.18);
  --state-cyan-pill-glow: rgba(0, 217, 255, 0.12);
  --tag-accent-border: rgba(0, 217, 255, 0.24);
  --tag-accent-bg: rgba(10, 19, 48, 0.75);
  --tag-accent-soft: rgba(0, 217, 255, 0.16);
  --tag-success-border: rgba(0, 255, 136, 0.4);
  --tag-success-bg: rgba(0, 255, 136, 0.12);
  --tag-warning-border: rgba(255, 215, 0, 0.35);
  --tag-warning-bg: rgba(255, 215, 0, 0.12);
  --tag-error-border: rgba(255, 51, 51, 0.35);
  --tag-error-bg: rgba(255, 51, 51, 0.12);
  --tag-caution-border: rgba(255, 141, 77, 0.32);
  --tag-caution-bg: rgba(255, 141, 77, 0.12);

  /* Theme-aware Text Colors */
  --color-text-primary: var(--app-text);
  --color-text-secondary-fallback: var(--tg-theme-subtitle-text-color, #85827d);
  --color-text-secondary: var(--color-text-secondary-fallback);
  --color-text-accent: var(--app-accent, var(--color-accent-gold));
  --color-text-destructive: var(--app-danger-text, #ef4444);
  --color-text-link: var(--tg-theme-link-color, #3d9eff);
  --color-text-inverse: #080b12;

  /* Theme-aware Borders */
  --color-border-subtle: var(--app-card-border);
  --color-border-strong: rgba(0, 0, 0, 0.25);
  --color-border-premium: rgba(255, 215, 0, 0.6);
  --color-border-cyan: rgba(45, 226, 255, 0.38);
  --color-border-magenta: rgba(255, 77, 255, 0.38);

  /* ===== TYPOGRAPHY ===== */

  /* Display: 48px / 56px (bold) */
  --font-display: 48px;
  --line-height-display: 56px;
  --font-weight-display: 700;

  /* Heading: 24px / 32px (semibold) */
  --font-heading: 24px;
  --line-height-heading: 32px;
  --font-weight-heading: 600;

  /* Title: 20px / 28px (bold) */
  --font-title: 20px;
  --line-height-title: 28px;
  --font-weight-title: 700;

  /* Subheading: 16px / 24px (semibold) */
  --font-subheading: 16px;
  --line-height-subheading: 24px;
  --font-weight-subheading: 600;

  /* Body: 14px / 20px (normal) */
  --font-body: 14px;
  --line-height-body: 20px;
  --font-weight-body: 400;

  /* Body Small: 13px / 18px (normal) */
  --font-body-sm: 13px;
  --line-height-body-sm: 18px;
  --font-weight-body-sm: 400;

  /* Caption: 12px / 16px (normal) */
  --font-caption: 12px;
  --line-height-caption: 16px;
  --font-weight-caption: 400;

  /* Micro: 11px / 14px (semibold) */
  --font-micro: 11px;
  --line-height-micro: 14px;
  --font-weight-micro: 600;

  /* Label: 11px / 14px (bold) */
  --font-label: 11px;
  --line-height-label: 14px;
  --font-weight-label: 700;

  /* ===== SPACING (8px base) ===== */

  --spacing-xs: 4px; /* 0.5 × 8px */
  --spacing-xs-plus: 6px; /* 0.75 × 8px */
  --spacing-sm: 8px; /* 1 × 8px */
  --spacing-sm-plus: 12px; /* 1.5 × 8px */
  --spacing-md: 16px; /* 2 × 8px */
  --spacing-lg: 24px; /* 3 × 8px */
  --spacing-xl: 32px; /* 4 × 8px */
  --spacing-2xl: 40px; /* 5 × 8px */
  --spacing-safe-top: var(--safe-area-top);
  --spacing-safe-bottom: var(--safe-area-bottom);
  --spacing-safe-left: var(--safe-area-left);
  --spacing-safe-right: var(--safe-area-right);
  --spacing-safe-horizontal: var(--safe-area-horizontal);
  --spacing-safe-vertical: var(--safe-area-vertical);

  /* Viewport metrics from TMA SDK */
  --layout-viewport-height: var(--tg-viewport-height);
  --layout-viewport-stable-height: var(--tg-viewport-stable-height);
  --layout-viewport-width: var(--tg-viewport-width);
  --layout-viewport-expanded: var(--tg-viewport-is-expanded);
  --layout-viewport-stable: var(--tg-viewport-is-stable);
  --layout-viewport-fullscreen: var(--tg-viewport-is-fullscreen);

  /* ===== BORDER RADIUS ===== */

  --border-radius-xs: 4px;
  --border-radius-sm: 6px;
  --border-radius-default: 8px;
  --border-radius-md: 12px;
  --border-radius-lg: 16px;
  --border-radius-xl: 24px;
  --border-radius-2xl: 32px;

  /* ===== SHADOWS ===== */

  --shadow-sm: 0 4px 12px rgba(0, 0, 0, 0.15);
  --shadow-md: 0 12px 24px rgba(0, 0, 0, 0.25);
  --shadow-lg: 0 20px 48px rgba(0, 0, 0, 0.35);
  --shadow-xl: 0 24px 60px rgba(0, 0, 0, 0.45);

  /* Cyan glows */
  --shadow-glow-card: 0 2px 8px rgba(0, 217, 255, 0.1);
  --shadow-glow-card-hover: 0 4px 16px rgba(0, 217, 255, 0.2);
  --shadow-glow: 0 0 20px rgba(0, 217, 255, 0.35);
  --shadow-glow-lime: 0 0 18px rgba(0, 255, 136, 0.35);
  --shadow-glow-gold: 0 0 18px rgba(255, 215, 0, 0.35);
  --shadow-glow-magenta: 0 0 18px rgba(255, 0, 255, 0.35);
}

@supports (color: color-mix(in srgb, black 50%, white 50%)) {
  :root {
    --color-text-secondary: color-mix(in srgb, var(--app-text) 72%, var(--app-bg));
  }
}

:root[data-color-scheme='light'] {
  /* Base Palette */
  --color-bg-primary: #f5f7fb;
  --color-bg-secondary: #ffffff;
  --color-bg-tertiary: #ecf1f8;
  --color-bg-elevated: #ffffff;

  /* Text */
  --color-text-primary: #101828;
  --color-text-secondary-fallback: #475467;
  --color-text-secondary: var(--color-text-secondary-fallback);
  --color-text-tertiary: #667085;
  --color-text-accent: #1d2939;
  --color-text-inverse: #1d2939;

  /* Accent overrides ensure AA contrast on light backgrounds */
  --color-accent-gold: #c7830b;
  --color-accent-gold-light: #ef9f1a;
  --color-accent-gold-dark: #8b5d00;
  --color-accent-cyan: #0ea5e9;
  --color-accent-cyan-light: #36c6ff;
  --color-accent-cyan-dark: #0369a1;
  --color-accent-magenta: #c026d3;
  --color-accent-magenta-light: #d946ef;
  --color-accent-magenta-dark: #86198f;

  --color-surface-primary: var(--tg-theme-bg-color, #f8fafc);
  --color-surface-secondary: rgba(255, 255, 255, 0.88);
  --color-surface-tertiary: rgba(237, 242, 255, 0.92);
  --color-surface-accent: var(--color-accent-gold);

  --color-border-subtle: rgba(15, 23, 42, 0.08);
  --color-border-strong: rgba(15, 23, 42, 0.16);
  --color-border-premium: rgba(199, 131, 11, 0.6);
  --color-border-cyan: rgba(14, 165, 233, 0.28);
  --color-border-magenta: rgba(192, 38, 211, 0.28);

  --gradient-hero: linear-gradient(180deg, rgba(255, 255, 255, 0.92) 0%, #e6edf6 100%);
  --gradient-accent: linear-gradient(135deg, #ef9f1a 0%, #f6c453 100%);
  --gradient-premium: linear-gradient(135deg, #8b5d00 0%, #ef9f1a 100%);
  --gradient-holographic: linear-gradient(
    135deg,
    rgba(14, 165, 233, 0.24) 0%,
    rgba(192, 38, 211, 0.24) 60%,
    rgba(255, 255, 255, 0.48) 100%
  );
  --gradient-ai: linear-gradient(
    135deg,
    rgba(14, 165, 233, 0.78) 0%,
    rgba(192, 38, 211, 0.85) 100%
  );
  --gradient-soft: linear-gradient(
    135deg,
    rgba(14, 165, 233, 0.18) 0%,
    rgba(192, 38, 211, 0.2) 100%
  );

  --shadow-sm: 0 4px 16px rgba(15, 23, 42, 0.08);
  --shadow-md: 0 12px 32px rgba(15, 23, 42, 0.12);
  --shadow-lg: 0 20px 48px rgba(15, 23, 42, 0.16);
  --shadow-xl: 0 24px 60px rgba(15, 23, 42, 0.2);

  --shadow-glow-card: 0 2px 8px rgba(14, 165, 233, 0.12);
  --shadow-glow-card-hover: 0 4px 16px rgba(14, 165, 233, 0.24);
  --shadow-glow: 0 0 20px rgba(14, 165, 233, 0.28);
  --shadow-glow-lime: 0 0 18px rgba(82, 196, 26, 0.24);
  --shadow-glow-gold: 0 0 18px rgba(199, 131, 11, 0.3);
  --shadow-glow-magenta: 0 0 18px rgba(192, 38, 211, 0.28);
}

/* ===== UTILITY CLASSES FOR COMMON PATTERNS ===== */

/**
 * Typography Classes
 * Use these for consistent text styling across components
 */
.text-display {
  font-size: calc(var(--font-display) * var(--tg-text-size-scale, 1));
  line-height: calc(var(--line-height-display) * var(--tg-text-size-scale, 1));
  font-weight: var(--font-weight-display);
}

.text-heading {
  font-size: calc(var(--font-heading) * var(--tg-text-size-scale, 1));
  line-height: calc(var(--line-height-heading) * var(--tg-text-size-scale, 1));
  font-weight: var(--font-weight-heading);
}

.text-title {
  font-size: calc(var(--font-title) * var(--tg-text-size-scale, 1));
  line-height: calc(var(--line-height-title) * var(--tg-text-size-scale, 1));
  font-weight: var(--font-weight-title);
}

.text-subheading {
  font-size: calc(var(--font-subheading) * var(--tg-text-size-scale, 1));
  line-height: calc(var(--line-height-subheading) * var(--tg-text-size-scale, 1));
  font-weight: var(--font-weight-subheading);
}

.text-body {
  font-size: calc(var(--font-body) * var(--tg-text-size-scale, 1));
  line-height: calc(var(--line-height-body) * var(--tg-text-size-scale, 1));
  font-weight: var(--font-weight-body);
}

.text-body-sm {
  font-size: calc(var(--font-body-sm) * var(--tg-text-size-scale, 1));
  line-height: calc(var(--line-height-body-sm) * var(--tg-text-size-scale, 1));
  font-weight: var(--font-weight-body-sm);
}

.text-caption {
  font-size: calc(var(--font-caption) * var(--tg-text-size-scale, 1));
  line-height: calc(var(--line-height-caption) * var(--tg-text-size-scale, 1));
  font-weight: var(--font-weight-caption);
}

.text-micro {
  font-size: calc(var(--font-micro) * var(--tg-text-size-scale, 1));
  line-height: calc(var(--line-height-micro) * var(--tg-text-size-scale, 1));
  font-weight: var(--font-weight-micro);
}

.text-label {
  font-size: calc(var(--font-label) * var(--tg-text-size-scale, 1));
  line-height: calc(var(--line-height-label) * var(--tg-text-size-scale, 1));
  font-weight: var(--font-weight-label);
  letter-spacing: 0.06em;
}

.text-icon-md {
  font-size: 28px;
  line-height: 1;
  font-weight: var(--font-weight-heading);
}

.text-icon-lg {
  font-size: 32px;
  line-height: 1;
  font-weight: var(--font-weight-heading);
}

.text-hero-display {
  font-size: 180px;
  line-height: 1;
  font-weight: var(--font-weight-display);
}

/* Icon/hero sizes documented separately to avoid inline values */

/**
 * Stat display helper for numeric highlights
 */
.stat-display {
  font-size: var(--font-heading);
  line-height: var(--line-height-heading);
  font-weight: var(--font-weight-heading);
}

/**
 * Interactive Card Utility
 * Apply to cards that respond to pointer/tap interactions
 */
.card-interactive {
  cursor: pointer;
  transition:
    transform 160ms ease,
    box-shadow 160ms ease,
    border-color 160ms ease;
}

.card-interactive:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-glow-card-hover);
}

.card-interactive:active {
  transform: translateY(0);
  box-shadow: var(--shadow-glow-card);
}

/**
 * Card Styles
 * Use for consistent card appearance
 */
.card-dark {
  background-color: var(--color-surface-secondary, rgba(10, 14, 32, 0.9));
  color: var(--color-text-primary);
  border-radius: var(--border-radius-lg);
  border: 1px solid var(--color-border-subtle, rgba(255, 255, 255, 0.08));
  box-shadow: var(--shadow-glow-card);
}

.card-dark:hover {
  box-shadow: var(--shadow-glow-card-hover);
}

/**
 * Button Styles
 */
.btn-primary {
  padding: var(--spacing-md) var(--spacing-md);
  border-radius: var(--border-radius-md);
  background: var(--tg-theme-button-color, #1f6feb);
  color: var(--tg-theme-button-text-color, #ffffff);
  font-size: var(--font-caption);
  font-weight: 600;
  transition: all 0.15s ease-out;
}

.btn-primary:hover {
  box-shadow: var(--shadow-glow);
}

.btn-secondary {
  padding: var(--spacing-md) var(--spacing-md);
  border-radius: var(--border-radius-md);
  background-color: rgba(0, 217, 255, 0.22);
  color: white;
  font-size: var(--font-caption);
  font-weight: 600;
}

.btn-success {
  padding: var(--spacing-md) var(--spacing-md);
  border-radius: var(--border-radius-md);
  background: linear-gradient(135deg, #ffd362 0%, #ff8d4d 100%);
  color: white;
  font-size: var(--font-caption);
  font-weight: 600;
}

/**
 * Badge Styles
 */
.badge {
  padding: var(--spacing-xs) var(--spacing-sm);
  border-radius: 999px;
  font-size: var(--font-micro);
  font-weight: 600;
  background-color: rgba(10, 14, 32, 0.5);
  color: white;
}

/**
 * Header Styles
 */
.header {
  font-size: var(--font-heading);
  color: white;
  font-weight: 600;
}

.subheader {
  font-size: var(--font-caption);
  color: rgba(255, 255, 255, 0.6);
}
:root[data-color-scheme='light'] {
  --color-surface-secondary: rgba(255, 255, 255, 0.88);
  --color-surface-tertiary: rgba(237, 242, 255, 0.92);
  --color-surface-accent: var(--color-accent-gold);
  --layer-surface-strong: rgba(255, 255, 255, 0.95);
  --layer-surface-elevated: rgba(255, 255, 255, 0.98);
  --layer-surface-soft: rgba(244, 247, 251, 0.9);
  --layer-border-subtle: rgba(15, 23, 42, 0.08);
  --layer-border-strong: rgba(15, 23, 42, 0.16);
  --layer-border-featured: rgba(199, 131, 11, 0.38);
  --state-card-highlight-border: rgba(14, 165, 233, 0.45);
  --state-card-highlight-shadow: 0 0 32px rgba(14, 165, 233, 0.25);
  --state-card-locked-border: rgba(249, 115, 22, 0.4);
  --state-card-locked-bg: rgba(237, 242, 255, 0.78);
  --state-danger-border: rgba(220, 38, 38, 0.35);
  --state-danger-surface: rgba(254, 226, 226, 0.9);
  --state-danger-pill: rgba(252, 165, 165, 0.35);
  --state-danger-pill-hover: rgba(248, 113, 113, 0.45);
  --tag-accent-border: rgba(14, 165, 233, 0.28);
  --tag-accent-bg: rgba(226, 245, 255, 0.88);
  --tag-accent-soft: rgba(186, 230, 253, 0.7);
  --tag-success-border: rgba(22, 163, 74, 0.3);
  --tag-success-bg: rgba(134, 239, 172, 0.35);
  --tag-warning-border: rgba(217, 119, 6, 0.35);
  --tag-warning-bg: rgba(254, 240, 138, 0.55);
  --tag-error-border: rgba(220, 38, 38, 0.35);
  --tag-error-bg: rgba(254, 202, 202, 0.65);
  --tag-caution-border: rgba(249, 115, 22, 0.35);
  --tag-caution-bg: rgba(254, 215, 170, 0.65);
}
